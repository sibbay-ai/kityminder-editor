angular.module("kityminderDemo",["kityminderEditor"]).config(function(configProvider){configProvider.set("imageUpload","../server/imageUpload.php")}).controller("MainController",function($scope){$scope.initEditor=function(editor,minder){window.editor=editor,window.minder=minder,window.addEventListener("message",function(event){switch(window.message=event.data,window.message.command){case"import":try{var importData=JSON.parse(window.message.importData);window.minder.importJson(importData),window.minder.execCommand("ExpandToLevel",2),window.minder.execCommand("hand"),window.minder.execCommand("Theme","classic-compact")}catch(ex){console.error(ex)}}}),window.addEventListener("keydown",function(e){var keyCode=e.keyCode||e.which||e.charCode;(e.ctrlKey||e.metaKey)&&83===keyCode&&document.querySelector(".km-export-save").click()}),window.vscode.postMessage({command:"loaded"}),window.minder.on("clickidrequest",function(e){var _id=e.node.getData("id");console.log("mindmap get click",_id),window.vscode.postMessage({command:"clickid",id:_id}),console.log("mindmap get over")})}});
